<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fetch and Display User Data</title>
<style>
body {
  font-family:'Poppins',sans-serif;
  background: linear-gradient(135deg,#667eea,#764ba2);
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:40px;
  min-height:100vh;
}
h1 {
  margin-bottom:20px;
  text-shadow:0 0 10px rgba(0,0,0,0.3);
}
button {
  padding:10px 20px;
  border:none;
  border-radius:10px;
  background:#00ff6a;
  color:#000;
  font-weight:bold;
  cursor:pointer;
  margin-bottom:20px;
  transition:0.3s;
}
button:hover {
  background:#00cc55;
}
table {
  border-collapse: collapse;
  width:90%;
  max-width:800px;
  background: rgba(255,255,255,0.1);
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 0 15px rgba(0,0,0,0.3);
}
th, td {
  padding:12px 15px;
  text-align:left;
}
th {
  background: rgba(255,255,255,0.2);
}
tr:nth-child(even) {
  background: rgba(255,255,255,0.05);
}
#spinner {
  border: 6px solid rgba(255,255,255,0.2);
  border-top: 6px solid #00ff6a;
  border-radius: 50%;
  width:40px;
  height:40px;
  animation: spin 1s linear infinite;
  display:none;
  margin-bottom:20px;
}
@keyframes spin {
  0% { transform:rotate(0deg); }
  100% { transform:rotate(360deg); }
}
</style>
</head>
<body>
<h1>User Data Fetcher</h1>
<div id="spinner"></div>
<button id="refreshBtn">Refresh Data</button>
<table id="userTable">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>City</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
<script>
const tableBody=document.querySelector('#userTable tbody');
const spinner=document.getElementById('spinner');
const refreshBtn=document.getElementById('refreshBtn');

async function fetchUsers(){
  tableBody.innerHTML='';
  spinner.style.display='block';
  try{
    const res=await fetch('https://jsonplaceholder.typicode.com/users');
    const data=await res.json();
    data.forEach(user=>{
      const tr=document.createElement('tr');
      tr.innerHTML=`<td>${user.name}</td><td>${user.email}</td><td>${user.address.city}</td>`;
      tableBody.appendChild(tr);
    });
  } catch(err){
    tableBody.innerHTML='<tr><td colspan="3">Error fetching data</td></tr>';
  } finally{
    spinner.style.display='none';
  }
}

refreshBtn.addEventListener('click', fetchUsers);

fetchUsers();
</script>
</body>
</html>
